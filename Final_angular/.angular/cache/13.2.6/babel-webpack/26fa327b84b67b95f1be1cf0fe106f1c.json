{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { NotificationService } from '../_services/notification.service';\nimport { UserService } from '../_services/user.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { Credential } from '../_models/Credential';\nimport { CredentialService } from '../_services/credential.service';\nlet CredentialComponent = class CredentialComponent {\n  constructor(credentialService, route, notifService, userService) {\n    this.credentialService = credentialService;\n    this.route = route;\n    this.notifService = notifService;\n    this.userService = userService;\n    this.deleteEvent = new EventEmitter();\n    this.eventEmitter = new EventEmitter();\n    this.users = [];\n  }\n\n  delete(domain) {\n    this.deleteEvent.emit(domain);\n  }\n\n  edit(credential) {\n    this.eventEmitter.emit(credential);\n  }\n\n  ngOnInit() {\n    this.userService.getUsernames().pipe().subscribe(names => {\n      this.users = names;\n    });\n  }\n\n  showPassword(id) {\n    const txtPassword = document.getElementById(id);\n\n    if (txtPassword.type === 'password') {\n      txtPassword.type = 'string';\n    } else {\n      txtPassword.type = 'password';\n    }\n  }\n\n  share(user, credential) {\n    const shared = document.getElementById(user);\n\n    if (shared.value === '0') {\n      shared.value = '1';\n      shared.style.color = 'green';\n    } else if (shared.value === '1') {\n      shared.value = '0';\n      shared.style.color = 'black';\n    }\n\n    console.log(user);\n    console.log(credential);\n    this.credentialService.share(user, credential).subscribe(result => {\n      this.notifService.showNotif(result.toString(), 'confirmation');\n    }, error => {\n      this.notifService.showNotif(error.toString(), 'warning');\n    });\n  }\n\n  updateColor(user) {\n    const shared = document.getElementById(user);\n\n    if (shared.value === '0') {\n      shared.style.color = 'black';\n    } else if (shared.value === '1') {\n      shared.style.color = 'green';\n    }\n  }\n\n};\n\n__decorate([Input(), __metadata(\"design:type\", Credential)], CredentialComponent.prototype, \"credential\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], CredentialComponent.prototype, \"deleteEvent\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], CredentialComponent.prototype, \"eventEmitter\", void 0);\n\nCredentialComponent = __decorate([Component({\n  selector: 'credential-component',\n  templateUrl: './credential.component.html',\n  styleUrls: ['./credential.component.css']\n}), __metadata(\"design:paramtypes\", [CredentialService, ActivatedRoute, NotificationService, UserService])], CredentialComponent);\nexport { CredentialComponent };","map":null,"metadata":{},"sourceType":"module"}